---
layout: post
title: 'Open Source Access to Math for NVDA: The Beginning'
date: '2016-07-06T23:24:00.001+10:00'
author: Jamie Teh
tags:
- accessibility
- NVDA
- math
modified_time: '2016-07-07T10:39:51.552+10:00'
thumbnail: https://3.bp.blogspot.com/-geNMjRk8KU0/V30D3xlXR4I/AAAAAAAAAKQ/WdsDWENNQowazLNrgRT_CCkT53buz3lNgCLcB/s72-c/Shuttleworth%2BFunded.jpg
blogger_id: tag:blogger.com,1999:blog-5419412965543098028.post-9083281722326585227
permalink: /2016/07/open-source-access-to-math-for-nvda.html
---

At CSUN this year, I attended the open source math accessibility sprint co-hosted by the Shuttleworth Foundation and Benetech, where major players in the field gathered to discuss and hack on various aspects of open source math accessibility. My team, which also included Kathi Fletcher, Volker Sorge and Derek Riemer, tackled reading of mainstream math with open source tools.<br />Last year, NVDA introduced support for reading and interactive navigation of math content in web browsers and in Microsoft Word and PowerPoint. To facilitate this, NVDA uses <a href="http://www.dessci.com/en/products/mathplayer/">MathPlayer 4 from Design Science</a>. While MathPlayer is a great, free solution that is already helping many users, it is closed source, proprietary software, which severely limits its future potential. Thus, there is a great need for a fully open source alternative.<br />Some time ago, Volker Sorge implemented support for math in ChromeVox and later forked this into a separate project called <a href="https://github.com/zorkow/speech-rule-engine">Speech Rule Engine</a> (SRE). There were two major pieces to our task:<br /><ol><li>SRE is a JavaScript library and NVDA is written in python, so we needed to create a "bridge" between NVDA and SRE. We did this by having NVDA run Node.js and writing code in Python and JavaScript which communicated via stdin and stdout.</li><li>One of the things that sets MathPlayer above other math accessibility solutions is its use of the more natural <a href="https://www.dessci.com/en/reference/ies-ets/">ClearSpeak</a> speech style. In contrast, MathSpeak, the speech style used by SRE and others, was designed primarily for dictation and is not well suited to efficient understanding of math, at least without a great deal of training. So, we needed to implement ClearSpeak in SRE. Because this is a massive task that would take months to complete (and this was a one day hackathon!), we chose to implement just a few ClearSpeak rules, just enough to read the quadratic equation.</li></ol>Our goal for the end of the day was to present NVDA and SRE reading and interactively navigating the quadratic equation in Microsoft Word using ClearSpeak, including one pause in speech specified by ClearSpeak. (ClearSpeak uses pauses to make reading easier and to naturally communicate information about the math expression.) I'm pleased to say we were successful! Obviously, this was very much a "proof of concept" implementation and there is a great deal of further work to be done, both in NVDA and SRE. Thanks to my team for their excellent work and to Benetech and the Shuttleworth Foundation for hosting the event and inviting me!<br /><div class="separator" style="clear: both; text-align: center;"><span style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img alt="Shuttleworth Funded logo" border="0" height="90" src="{{ site.url }}/assets/images/2016-07-06-ShuttleworthFunded.jpg" title="" width="320" /></span></div>As a result of this work, I was subsequently nominated by Kathi Fletcher for a <a href="https://shuttleworthfoundation.org/flashgrants/">Shuttleworth Foundation Flash Grant</a>. In short, this is a small grant I can put towards a project of my choice, with the only condition being to "live openly" and share it with the world. And I figured polishing NVDA's integration with SRE was a fitting project for this grant. So, in the coming months, I plan to release an NVDA add-on package which allows users to easily install and use this solution. Thanks to Kathi for nominating me and to the Shuttleworth Foundation for supporting this! Watch this space for more details.